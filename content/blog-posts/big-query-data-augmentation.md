---
title: "Painless Data Augmentation with BigQuery"
subtitle: "Quickly Augmenting Your Datasets with BigQuery Public Data"
description: "Google Cloud's BigQuery is a great tool for data scientists to easily augment their datasets with external data â€“ using BigQuery's public datasets."
image:
  src: "/images/big-query-blocks-dalle.webp"
  alt: "An image of toy blocks being assembled into a tower by a little crane, generated by DALL-E."
  caption: "An image of toy blocks being assembled into a tower by a little crane, generated by DALL-E."
publishDate: "2021-01-07"
# updateDate: "2023-02-16"
tags:
  - "data-science"
  - "google-cloud-platform"
  - "big-query"
  - "sql"
  - "data"
recommended:
  - "csv-to-postgres-with-pandas"
  - "flask-ml-predictions"
  - "plots-with-jinja"
---

Google Cloud's BigQuery is a great tool for data scientists to quickly and easily augment their datasets with external data. Specifically, BigQuery has a [listing of public datasets](https://cloud.google.com/bigquery/public-data) from a variety of different sources. All you need is a Google Cloud account and some basic SQL knowledge.

Here are just a few useful public datasets:

- [US Census American Community Survey](https://console.cloud.google.com/marketplace/product/united-states-census-bureau/acs)
- [COVID-19 Data from Google](https://console.cloud.google.com/marketplace/product/bigquery-public-datasets/covid19-public-data-program)
- [NOAA Global Weather Data](https://console.cloud.google.com/marketplace/product/noaa-public/gsod)
- [Public Domain Artworks from The Met](https://console.cloud.google.com/marketplace/product/the-metropolitan-museum-of-art/the-met-public-domain-art-works)
- [Bitcoin Transaction Data](https://console.cloud.google.com/marketplace/product/cmorqs-public/cmorq-bcd-data)

## A Quick Example

I think one of the most useful among the BigQuery public datasets is the US Census ACS data, which gives multi-year data broken down geographically (by state, zip code, county, etc.).

It has a lot of great demographic information like population (broken down by age, race, gender, marital status, etc.), education levels, employment, income, and much more.

For example, say I wanted to query the total population and median household income for three zip codes in the NYC area. There's a table called `zip_codes_2018_5yr` that gives a 5-year estimate of census data for the year 2018, broken down by zip code.

Here's what my query will look like:

```sql
SELECT 
  geo_id, -- Where geo_id is the zip code
  total_pop,
  median_income
FROM 
  `bigquery-public-data`.census_bureau_acs.zip_codes_2018_5yr
WHERE 
  geo_id in ("11377","11101","10708"); 
```

And I can run it in the BigQuery UI...

![Screenshot of the BigQuery UI](/images/bq-screenshot-1.webp)

And get the following results...

![Viewing query results in the BigQuery UI](/images/bq-screenshot-2.webp)

Great! I got my answer in 0.4 seconds and now I can go back and expand my query to get this data for multiple years. Or, I can export the results to a CSV or JSON file to join it up with my data.

![Screenshot showing export options for BigQuery results](/images/bq-screenshot-3.webp)

Finally, as a bonus, you can connect to BigQuery through Python with the package [google-cloud-bigquery](https://googleapis.dev/python/bigquery/latest/index.html).

## Links / Further Reading

- [More About BigQuery](https://googleapis.dev/python/bigquery/latest/index.html)
- [BigQuery's Public Datasets](https://cloud.google.com/bigquery/public-data)
- [BigQuery SQL Syntax](https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax)
- [Querying BigQuery Tables from Python](https://googleapis.dev/python/bigquery/latest/index.html)

